{
  "typescript": {
    "interfaces": {
      "User": {
        "description": "ข้อมูลผู้ใช้งานแอปพลิเคชัน",
        "properties": {
          "id": "number",
          "uuid": "string",
          "deviceId": "string",
          "createdAt": "Date",
          "lastActive": "Date",
          "isActive": "boolean"
        }
      },
      "BellSchedule": {
        "description": "ตารางเวลาการเปิดระฆัง",
        "properties": {
          "id": "number",
          "userId": "number",
          "name": "string",
          "triggerTime": "string",
          "daysOfWeek": "number[]",
          "isActive": "boolean",
          "bellTypeId": "string",
          "createdAt": "Date",
          "updatedAt": "Date",
          "lastTriggered": "Date | undefined"
        }
      },
      "BellType": {
        "description": "ประเภทเสียงระฆัง",
        "properties": {
          "id": "string",
          "name": "string",
          "audioFilePath": "string",
          "durationMs": "number",
          "defaultVolume": "number",
          "description": "string",
          "isSystemDefault": "boolean",
          "createdAt": "Date"
        }
      },
      "UserPreferences": {
        "description": "การตั้งค่าผู้ใช้",
        "properties": {
          "id": "number",
          "userId": "number",
          "silentModeBehavior": "'respect' | 'always' | 'never' | 'custom'",
          "defaultVolume": "number",
          "preferredBellTypeId": "string",
          "themeMode": "'light' | 'dark' | 'auto'",
          "vibrationsEnabled": "boolean",
          "notificationSettings": "NotificationSettings",
          "updatedAt": "Date"
        }
      },
      "NotificationSettings": {
        "description": "การตั้งค่าการแจ้งเตือน",
        "properties": {
          "enableNotifications": "boolean",
          "enableSound": "boolean",
          "enableVibration": "boolean",
          "enableLed": "boolean",
          "notificationSound": "string",
          "vibrationPattern": "number[]"
        }
      },
      "NotificationHistory": {
        "description": "ประวัติการแจ้งเตือน",
        "properties": {
          "id": "number",
          "scheduleId": "number",
          "triggeredAt": "Date",
          "wasSuccessful": "boolean",
          "latencyMs": "number | undefined",
          "batteryLevelAtTrigger": "number | undefined",
          "errorMessage": "string | undefined",
          "metadata": "NotificationMetadata"
        }
      },
      "NotificationMetadata": {
        "description": "ข้อมูลเพิ่มเติมของการแจ้งเตือน",
        "properties": {
          "sessionId": "string",
          "bellTypeId": "string",
          "volumeLevel": "number",
          "wasInBackground": "boolean",
          "deviceState": {
            "isCharging": "boolean",
            "batteryLevel": "number",
            "networkType": "string"
          }
        }
      },
      "SystemStatus": {
        "description": "สถานะของระบบ",
        "properties": {
          "status": "string",
          "uptime": "number",
          "activeSchedules": "number",
          "deviceState": {
            "batteryLevel": "number",
            "isCharging": "boolean",
            "memoryUsageMb": "number",
            "cpuUsagePercent": "number",
            "networkType": "string"
          },
          "lastScheduleCheck": "Date",
          "nextScheduledBell": "Date | undefined",
          "timestamp": "Date"
        }
      }
    },
    "enums": {
      "SilentModeBehavior": {
        "description": "พฤติกรรมเมื่ออยู่ในโหมดเงียบ",
        "values": {
          "RESPECT": "เคารพการตั้งค่าโหมดเงียบของระบบ",
          "ALWAYS_PLAY": "เล่นเสียงเสมอแม้โหมดเงียบ",
          "NEVER_PLAY": "ไม่เล่นเสียงเมื่อโหมดเงียบ",
          "CUSTOM": "ใช้การตั้งค่าแบบกำหนดเอง"
        }
      },
      "ThemeMode": {
        "description": "ธีมการแสดงผล",
        "values": {
          "LIGHT": "ธีมสว่าง",
          "DARK": "ธีมมืด",
          "AUTO": "ตามการตั้งค่าระบบ"
        }
      },
      "DayOfWeek": {
        "description": "วันในสัปดาห์",
        "values": {
          "SUNDAY": 0,
          "MONDAY": 1,
          "TUESDAY": 2,
          "WEDNESDAY": 3,
          "THURSDAY": 4,
          "FRIDAY": 5,
          "SATURDAY": 6
        }
      }
    },
    "requestTypes": {
      "CreateBellScheduleRequest": {
        "description": "คำขอสร้างตารางเวลาใหม่",
        "properties": {
          "name": "string (required, 1-50 chars)",
          "triggerTime": "string (required, HH:MM format)",
          "daysOfWeek": "number[] (required, 1-7 items, each 0-6)",
          "bellTypeId": "string (required)",
          "isActive": "boolean (optional, default: true)"
        }
      },
      "PlayBellRequest": {
        "description": "คำขอเล่นเสียงระฆัง",
        "properties": {
          "bellTypeId": "string (required)",
          "volume": "number (optional, 0.0-1.0, default: 0.8)",
          "loop": "boolean (optional, default: false)",
          "duration": "number (optional, 100-10000ms)"
        }
      },
      "UpdateUserPreferencesRequest": {
        "description": "คำขออัพเดทการตั้งค่าผู้ใช้",
        "properties": {
          "silentModeBehavior": "SilentModeBehavior (optional)",
          "defaultVolume": "number (optional, 0.0-1.0)",
          "preferredBellTypeId": "string (optional)",
          "themeMode": "ThemeMode (optional)",
          "vibrationsEnabled": "boolean (optional)",
          "notificationSettings": "NotificationSettings (optional)"
        }
      }
    },
    "responseTypes": {
      "PlayBellResponse": {
        "description": "การตอบกลับการเล่นเสียงระฆัง",
        "properties": {
          "success": "boolean",
          "sessionId": "string",
          "latencyMs": "number",
          "playedAt": "Date"
        }
      },
      "NotificationHistoryResponse": {
        "description": "การตอบกลับประวัติการแจ้งเตือน",
        "properties": {
          "notifications": "NotificationHistory[]",
          "total": "number",
          "limit": "number",
          "offset": "number",
          "hasMore": "boolean"
        }
      },
      "PerformanceMetrics": {
        "description": "ข้อมูลสถิติประสิทธิภาพ",
        "properties": {
          "audioMetrics": {
            "avgLatencyMs": "number",
            "maxLatencyMs": "number",
            "minLatencyMs": "number",
            "totalPlaybacks": "number",
            "successRate": "number"
          },
          "scheduleMetrics": {
            "totalSchedules": "number",
            "activeSchedules": "number",
            "missedSchedules": "number",
            "avgTriggerDelayMs": "number"
          },
          "systemMetrics": {
            "memoryUsageMb": "number",
            "cpuUsagePercent": "number",
            "batteryDrainPerHour": "number",
            "uptimeSeconds": "number"
          },
          "timestamp": "Date"
        }
      }
    }
  },
  "rust": {
    "structs": {
      "User": {
        "description": "ข้อมูลผู้ใช้งานแอปพลิเคชัน",
        "fields": {
          "id": "i64",
          "uuid": "String",
          "device_id": "String",
          "created_at": "DateTime<Utc>",
          "last_active": "DateTime<Utc>",
          "is_active": "bool"
        }
      },
      "BellSchedule": {
        "description": "ตารางเวลาการเปิดระฆัง",
        "fields": {
          "id": "i64",
          "user_id": "i64",
          "name": "String",
          "trigger_time": "NaiveTime",
          "days_of_week": "Vec<i32>",
          "is_active": "bool",
          "bell_type_id": "String",
          "created_at": "DateTime<Utc>",
          "updated_at": "DateTime<Utc>",
          "last_triggered": "Option<DateTime<Utc>>"
        }
      },
      "BellType": {
        "description": "ประเภทเสียงระฆัง",
        "fields": {
          "id": "String",
          "name": "String",
          "audio_file_path": "String",
          "duration_ms": "i32",
          "default_volume": "f32",
          "description": "String",
          "is_system_default": "bool",
          "created_at": "DateTime<Utc>"
        }
      },
      "UserPreferences": {
        "description": "การตั้งค่าผู้ใช้",
        "fields": {
          "id": "i64",
          "user_id": "i64",
          "silent_mode_behavior": "SilentModeBehavior",
          "default_volume": "f32",
          "preferred_bell_type_id": "String",
          "theme_mode": "ThemeMode",
          "vibrations_enabled": "bool",
          "notification_settings": "serde_json::Value",
          "updated_at": "DateTime<Utc>"
        }
      },
      "NotificationHistory": {
        "description": "ประวัติการแจ้งเตือน",
        "fields": {
          "id": "i64",
          "schedule_id": "i64",
          "triggered_at": "DateTime<Utc>",
          "was_successful": "bool",
          "latency_ms": "Option<i32>",
          "battery_level_at_trigger": "Option<f32>",
          "error_message": "Option<String>",
          "metadata": "serde_json::Value"
        }
      }
    },
    "enums": {
      "SilentModeBehavior": {
        "description": "พฤติกรรมเมื่ออยู่ในโหมดเงียบ",
        "variants": {
          "Respect": "เคารพการตั้งค่าโหมดเงียบของระบบ",
          "Always": "เล่นเสียงเสมอแม้โหมดเงียบ",
          "Never": "ไม่เล่นเสียงเมื่อโหมดเงียบ",
          "Custom": "ใช้การตั้งค่าแบบกำหนดเอง"
        }
      },
      "ThemeMode": {
        "description": "ธีมการแสดงผล",
        "variants": {
          "Light": "ธีมสว่าง",
          "Dark": "ธีมมืด",
          "Auto": "ตามการตั้งค่าระบบ"
        }
      }
    },
    "request_structs": {
      "CreateBellScheduleRequest": {
        "description": "คำขอสร้างตารางเวลาใหม่",
        "fields": {
          "name": "String (required, 1-50 chars)",
          "trigger_time": "String (required, HH:MM format)",
          "days_of_week": "Vec<i32> (required, 1-7 items, each 0-6)",
          "bell_type_id": "String (required)",
          "is_active": "Option<bool> (optional, default: true)"
        }
      },
      "PlayBellRequest": {
        "description": "คำขอเล่นเสียงระฆัง",
        "fields": {
          "bell_type_id": "String (required)",
          "volume": "Option<f32> (optional, 0.0-1.0, default: 0.8)",
          "loop": "Option<bool> (optional, default: false)",
          "duration": "Option<i32> (optional, 100-10000ms)"
        }
      }
    },
    "response_structs": {
      "PlayBellResponse": {
        "description": "การตอบกลับการเล่นเสียงระฆัง",
        "fields": {
          "success": "bool",
          "session_id": "String",
          "latency_ms": "u64",
          "played_at": "DateTime<Utc>"
        }
      },
      "SystemStatus": {
        "description": "สถานะของระบบ",
        "fields": {
          "status": "String",
          "uptime": "u64",
          "active_schedules": "i32",
          "device_state": "DeviceState",
          "last_schedule_check": "DateTime<Utc>",
          "next_scheduled_bell": "Option<DateTime<Utc>>",
          "timestamp": "DateTime<Utc>"
        }
      }
    }
  },
  "validation": {
    "bellSchedule": {
      "name": {
        "required": true,
        "minLength": 1,
        "maxLength": 50,
        "pattern": "^[\\u0E00-\\u0E7F\\w\\s]+$"
      },
      "triggerTime": {
        "required": true,
        "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
        "examples": ["07:00", "14:30", "23:45"]
      },
      "daysOfWeek": {
        "required": true,
        "minItems": 1,
        "maxItems": 7,
        "items": {
          "type": "integer",
          "minimum": 0,
          "maximum": 6
        }
      },
      "bellTypeId": {
        "required": true,
        "type": "string",
        "maxLength": 50
      }
    },
    "userPreferences": {
      "defaultVolume": {
        "type": "number",
        "minimum": 0.0,
        "maximum": 1.0
      },
      "silentModeBehavior": {
        "enum": ["respect", "always", "never", "custom"]
      },
      "themeMode": {
        "enum": ["light", "dark", "auto"]
      }
    },
    "playBell": {
      "bellTypeId": {
        "required": true,
        "type": "string"
      },
      "volume": {
        "type": "number",
        "minimum": 0.0,
        "maximum": 1.0
      },
      "duration": {
        "type": "integer",
        "minimum": 100,
        "maximum": 10000
      }
    }
  },
  "errorTypes": {
    "ValidationError": {
      "description": "ข้อผิดพลาดจากการตรวจสอบข้อมูล",
      "examples": [
        {
          "error": "ValidationError",
          "message": "Invalid time format. Use HH:MM",
          "details": {
            "field": "triggerTime",
            "value": "25:00",
            "constraint": "Must be between 00:00 and 23:59"
          }
        }
      ]
    },
    "NotFoundError": {
      "description": "ไม่พบข้อมูลที่ร้องขอ",
      "examples": [
        {
          "error": "NotFoundError",
          "message": "Schedule with id 999 not found"
        }
      ]
    },
    "AudioError": {
      "description": "ข้อผิดพลาดในการเล่นเสียง",
      "examples": [
        {
          "error": "AudioError",
          "message": "Failed to play audio file",
          "details": {
            "audioFile": "assets/audio/bell_default.wav",
            "reason": "File not found"
          }
        }
      ]
    },
    "DatabaseError": {
      "description": "ข้อผิดพลาดในการเข้าถึงฐานข้อมูล",
      "examples": [
        {
          "error": "DatabaseError",
          "message": "Failed to save schedule",
          "details": {
            "query": "INSERT INTO bell_schedules...",
            "reason": "UNIQUE constraint failed"
          }
        }
      ]
    }
  },
  "websocket": {
    "messageTypes": {
      "bellPlayed": {
        "description": "ส่งเมื่อระฆังถูกเล่น",
        "payload": {
          "type": "bell_played",
          "data": {
            "sessionId": "string",
            "bellTypeId": "string",
            "playedAt": "string",
            "volume": "number",
            "wasScheduled": "boolean"
          }
        }
      },
      "scheduleTriggered": {
        "description": "ส่งเมื่อตารางเวลาถูกเรียกใช้",
        "payload": {
          "type": "schedule_triggered",
          "data": {
            "scheduleId": "number",
            "scheduleName": "string",
            "triggeredAt": "string",
            "wasSuccessful": "boolean",
            "latencyMs": "number"
          }
        }
      },
      "systemStatus": {
        "description": "ส่งสถานะระบบเป็นระยะ",
        "payload": {
          "type": "system_status",
          "data": {
            "status": "string",
            "activeSchedules": "number",
            "batteryLevel": "number",
            "memoryUsage": "number",
            "timestamp": "string"
          }
        }
      },
      "error": {
        "description": "ส่งเมื่อเกิดข้อผิดพลาด",
        "payload": {
          "type": "error",
          "data": {
            "error": "string",
            "message": "string",
            "details": "object",
            "timestamp": "string"
          }
        }
      }
    }
  },
  "constants": {
    "api": {
      "baseUrl": "http://localhost:8080",
      "version": "v1",
      "timeout": 30000,
      "retryAttempts": 3
    },
    "audio": {
      "defaultVolume": 0.8,
      "maxVolume": 1.0,
      "minVolume": 0.0,
      "maxDuration": 10000,
      "minDuration": 100,
      "defaultBellType": "default"
    },
    "schedule": {
      "maxSchedulesPerUser": 50,
      "maxDaysPerSchedule": 7,
      "minNameLength": 1,
      "maxNameLength": 50
    },
    "performance": {
      "targetLatencyMs": 100,
      "maxLatencyMs": 1000,
      "targetMemoryUsageMb": 50,
      "targetBatteryDrainPerHour": 1.0
    }
  },
  "events": {
    "frontend": {
      "bellButtonPressed": "ส่งเมื่อปุ่มระฆังถูกกด",
      "scheduleCreated": "ส่งเมื่อตารางเวลาถูกสร้าง",
      "scheduleUpdated": "ส่งเมื่อตารางเวลาถูกอัพเดท",
      "scheduleDeleted": "ส่งเมื่อตารางเวลาถูกลบ",
      "preferencesUpdated": "ส่งเมื่อการตั้งค่าถูกอัพเดท",
      "appBackgrounded": "ส่งเมื่อแอปเข้าสู่พื้นหลัง",
      "appForegrounded": "ส่งเมื่อแอปกลับมาทำงาน"
    },
    "backend": {
      "audioPlaybackStarted": "ส่งเมื่อการเล่นเสียงเริ่มต้น",
      "audioPlaybackCompleted": "ส่งเมื่อการเล่นเสียงสำเร็จ",
      "audioPlaybackFailed": "ส่งเมื่อการเล่นเสียงล้มเหลว",
      "scheduleChecked": "ส่งเมื่อระบบตรวจสอบตารางเวลา",
      "batteryLow": "ส่งเมื่อแบตเตอรี่ต่ำ",
      "memoryHigh": "ส่งเมื่อการใช้งานหน่วยความจำสูง"
    }
  }
}